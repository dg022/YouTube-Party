{"ast":null,"code":"/**\n * Module dependencies.\n */\nvar http = require('http');\n/**\n * Invoking the library as a function delegates to attach if the first argument\n * is an `http.Server`.\n *\n * If there are no arguments or the first argument is an options object, then\n * a new Server instance is returned.\n *\n * @param {http.Server} server (if specified, will be attached to by the new Server instance)\n * @param {Object} options\n * @return {Server} engine server\n * @api public\n */\n\n\nexports = module.exports = function () {\n  // backwards compatible use as `.attach`\n  // if first argument is an http server\n  if (arguments.length && arguments[0] instanceof http.Server) {\n    return attach.apply(this, arguments);\n  } // if first argument is not an http server, then just make a regular eio server\n\n\n  return exports.Server.apply(null, arguments);\n};\n/**\n * Protocol revision number.\n *\n * @api public\n */\n\n\nexports.protocol = 1;\n/**\n * Expose Server constructor.\n *\n * @api public\n */\n\nexports.Server = require('./server');\n/**\n * Expose Socket constructor.\n *\n * @api public\n */\n\nexports.Socket = require('./socket');\n/**\n * Expose Transport constructor.\n *\n * @api public\n */\n\nexports.Transport = require('./transport');\n/**\n * Expose mutable list of available transports.\n *\n * @api public\n */\n\nexports.transports = require('./transports');\n/**\n * Exports parser.\n *\n * @api public\n */\n\nexports.parser = require('engine.io-parser');\n/**\n * Creates an http.Server exclusively used for WS upgrades.\n *\n * @param {Number} port\n * @param {Function} callback\n * @param {Object} options\n * @return {Server} websocket.io server\n * @api public\n */\n\nexports.listen = listen;\n\nfunction listen(port, options, fn) {\n  if ('function' === typeof options) {\n    fn = options;\n    options = {};\n  }\n\n  var server = http.createServer(function (req, res) {\n    res.writeHead(501);\n    res.end('Not Implemented');\n  }); // create engine server\n\n  var engine = exports.attach(server, options);\n  engine.httpServer = server;\n  server.listen(port, fn);\n  return engine;\n}\n/**\n * Captures upgrade requests for a http.Server.\n *\n * @param {http.Server} server\n * @param {Object} options\n * @return {Server} engine server\n * @api public\n */\n\n\nexports.attach = attach;\n\nfunction attach(server, options) {\n  var engine = new exports.Server(options);\n  engine.attach(server, options);\n  return engine;\n}","map":{"version":3,"sources":["C:/Users/david/react/YouTubeClone/client/node_modules/engine.io/lib/engine.io.js"],"names":["http","require","exports","module","arguments","length","Server","attach","apply","protocol","Socket","Transport","transports","parser","listen","port","options","fn","server","createServer","req","res","writeHead","end","engine","httpServer"],"mappings":"AAAA;;;AAIA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;AAEA;;;;;;;;;;;;;;AAaAC,OAAO,GAAGC,MAAM,CAACD,OAAP,GAAiB,YAAY;AACrC;AACA;AACA,MAAIE,SAAS,CAACC,MAAV,IAAoBD,SAAS,CAAC,CAAD,CAAT,YAAwBJ,IAAI,CAACM,MAArD,EAA6D;AAC3D,WAAOC,MAAM,CAACC,KAAP,CAAa,IAAb,EAAmBJ,SAAnB,CAAP;AACD,GALoC,CAOrC;;;AACA,SAAOF,OAAO,CAACI,MAAR,CAAeE,KAAf,CAAqB,IAArB,EAA2BJ,SAA3B,CAAP;AACD,CATD;AAWA;;;;;;;AAMAF,OAAO,CAACO,QAAR,GAAmB,CAAnB;AAEA;;;;;;AAMAP,OAAO,CAACI,MAAR,GAAiBL,OAAO,CAAC,UAAD,CAAxB;AAEA;;;;;;AAMAC,OAAO,CAACQ,MAAR,GAAiBT,OAAO,CAAC,UAAD,CAAxB;AAEA;;;;;;AAMAC,OAAO,CAACS,SAAR,GAAoBV,OAAO,CAAC,aAAD,CAA3B;AAEA;;;;;;AAMAC,OAAO,CAACU,UAAR,GAAqBX,OAAO,CAAC,cAAD,CAA5B;AAEA;;;;;;AAMAC,OAAO,CAACW,MAAR,GAAiBZ,OAAO,CAAC,kBAAD,CAAxB;AAEA;;;;;;;;;;AAUAC,OAAO,CAACY,MAAR,GAAiBA,MAAjB;;AAEA,SAASA,MAAT,CAAiBC,IAAjB,EAAuBC,OAAvB,EAAgCC,EAAhC,EAAoC;AAClC,MAAI,eAAe,OAAOD,OAA1B,EAAmC;AACjCC,IAAAA,EAAE,GAAGD,OAAL;AACAA,IAAAA,OAAO,GAAG,EAAV;AACD;;AAED,MAAIE,MAAM,GAAGlB,IAAI,CAACmB,YAAL,CAAkB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjDA,IAAAA,GAAG,CAACC,SAAJ,CAAc,GAAd;AACAD,IAAAA,GAAG,CAACE,GAAJ,CAAQ,iBAAR;AACD,GAHY,CAAb,CANkC,CAWlC;;AACA,MAAIC,MAAM,GAAGtB,OAAO,CAACK,MAAR,CAAeW,MAAf,EAAuBF,OAAvB,CAAb;AACAQ,EAAAA,MAAM,CAACC,UAAP,GAAoBP,MAApB;AAEAA,EAAAA,MAAM,CAACJ,MAAP,CAAcC,IAAd,EAAoBE,EAApB;AAEA,SAAOO,MAAP;AACD;AAED;;;;;;;;;;AASAtB,OAAO,CAACK,MAAR,GAAiBA,MAAjB;;AAEA,SAASA,MAAT,CAAiBW,MAAjB,EAAyBF,OAAzB,EAAkC;AAChC,MAAIQ,MAAM,GAAG,IAAItB,OAAO,CAACI,MAAZ,CAAmBU,OAAnB,CAAb;AACAQ,EAAAA,MAAM,CAACjB,MAAP,CAAcW,MAAd,EAAsBF,OAAtB;AACA,SAAOQ,MAAP;AACD","sourcesContent":["/**\n * Module dependencies.\n */\n\nvar http = require('http');\n\n/**\n * Invoking the library as a function delegates to attach if the first argument\n * is an `http.Server`.\n *\n * If there are no arguments or the first argument is an options object, then\n * a new Server instance is returned.\n *\n * @param {http.Server} server (if specified, will be attached to by the new Server instance)\n * @param {Object} options\n * @return {Server} engine server\n * @api public\n */\n\nexports = module.exports = function () {\n  // backwards compatible use as `.attach`\n  // if first argument is an http server\n  if (arguments.length && arguments[0] instanceof http.Server) {\n    return attach.apply(this, arguments);\n  }\n\n  // if first argument is not an http server, then just make a regular eio server\n  return exports.Server.apply(null, arguments);\n};\n\n/**\n * Protocol revision number.\n *\n * @api public\n */\n\nexports.protocol = 1;\n\n/**\n * Expose Server constructor.\n *\n * @api public\n */\n\nexports.Server = require('./server');\n\n/**\n * Expose Socket constructor.\n *\n * @api public\n */\n\nexports.Socket = require('./socket');\n\n/**\n * Expose Transport constructor.\n *\n * @api public\n */\n\nexports.Transport = require('./transport');\n\n/**\n * Expose mutable list of available transports.\n *\n * @api public\n */\n\nexports.transports = require('./transports');\n\n/**\n * Exports parser.\n *\n * @api public\n */\n\nexports.parser = require('engine.io-parser');\n\n/**\n * Creates an http.Server exclusively used for WS upgrades.\n *\n * @param {Number} port\n * @param {Function} callback\n * @param {Object} options\n * @return {Server} websocket.io server\n * @api public\n */\n\nexports.listen = listen;\n\nfunction listen (port, options, fn) {\n  if ('function' === typeof options) {\n    fn = options;\n    options = {};\n  }\n\n  var server = http.createServer(function (req, res) {\n    res.writeHead(501);\n    res.end('Not Implemented');\n  });\n\n  // create engine server\n  var engine = exports.attach(server, options);\n  engine.httpServer = server;\n\n  server.listen(port, fn);\n\n  return engine;\n}\n\n/**\n * Captures upgrade requests for a http.Server.\n *\n * @param {http.Server} server\n * @param {Object} options\n * @return {Server} engine server\n * @api public\n */\n\nexports.attach = attach;\n\nfunction attach (server, options) {\n  var engine = new exports.Server(options);\n  engine.attach(server, options);\n  return engine;\n}\n"]},"metadata":{},"sourceType":"script"}